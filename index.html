https://github.com/Function-f-of-x/Snake-AI if (!if_in_closed_list) {
                    children[i].g = current_node.g + 2;
                    children[i].h = abs(children[i].x - end_node.x) + abs(children[i].y - end_node.y);
                    children[i].f = children[i].g + children[i].h;
                    let present = false;
                    for (let j = 0; j < open_list.length; j++) {
                        if (children[i].equals(open_list[j]) && children[i].g < open_list[j].g) {
                            present = true;
                        } else if (children[i].equals(open_list[j]) && children[i].g >= open_list[j].g) {
                            open_list[j] = children[i];
                            open_list[j].parent = current_node;
                        }
                    }
                    if (!present) {
                        children[i].parent = current_node;
                        open_list.push(children[i]);
                    }
                }
            }
        }
        
        let path = possible_paths.length > 0 ? possible_paths[0] : [];
            for (let i = 1; i < possible_paths.length; i++) {
                if (possible_paths[i].length < path.length) {
                    path = possible_paths[i];
                }
            }
        return path;
    }
}

// ======= p5.js setup =======
let snake, apple, search;
function setup(){
    createCanvas(1200,600);
    snake=new Snake();
    apple=new Apple();
    search=new Search(snake,apple);
    search.getPath();
    frameRate(200);
}

function draw(){
    background('#151515');
    apple.show();
    snake.show();
    updateSnake();
}

function updateSnake(){
    if(snake.path.length>0){
        let next=snake.path.shift();
        snake.body.push(createVector(next.x,next.y));
        if(next.x===apple.x && next.y===apple.y){
            apple.generate(snake.body);
            search.getPath();
        } else {
            snake.body.shift();
        }
    } else {
        search.getPath();
    }
}
</script>
</body>
</html>
